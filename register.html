{% load static %}

<!doctype html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registro - Cámara de Comercio de Loja</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{% static 'css/register.css' %}" />
</head>

<body>
  <div class="registration-container">
    <!-- Lado izquierdo - Información de la Cámara (FIJO) -->
    <div class="info-section">
      <div class="info-content">
        <div class="logo-container">
          <img src="{% static 'images/logo2.png' %}" alt="Logo Cámara de Comercio de Loja" class="logo-ccl" />
        </div>
        
        <div class="info-text">
          <h2 class="info-title">Únete a la Cámara de Comercio de Loja</h2>
          <p class="info-subtitle">106 años apoyando el crecimiento empresarial</p>
          
          <div class="benefits-list">
            <div class="benefit-item">
              <i class="fas fa-users benefit-icon"></i>
              <div class="benefit-text">
                <h5>+700 Socios Activos</h5>
                <p>Forma parte de una comunidad empresarial sólida</p>
              </div>
            </div>
            
            <div class="benefit-item">
              <i class="fas fa-handshake benefit-icon"></i>
              <div class="benefit-text">
                <h5>+32 Convenios</h5>
                <p>Accede a descuentos exclusivos y beneficios</p>
              </div>
            </div>
            
            <div class="benefit-item">
              <i class="fas fa-shield-alt benefit-icon"></i>
              <div class="benefit-text">
                <h5>Múltiples Beneficios</h5>
                <p>Servicios médicos, póliza de vida y más</p>
              </div>
            </div>
            
            <div class="benefit-item">
              <i class="fas fa-graduation-cap benefit-icon"></i>
              <div class="benefit-text">
                <h5>Capacitaciones</h5>
                <p>Cursos y talleres para tu desarrollo profesional</p>
              </div>
            </div>
          </div>
          
          <div class="mission-vision">
            <div class="mission">
              <h6><i class="fas fa-bullseye"></i> Nuestra Misión</h6>
              <p>Apoyar la promoción de nuestra ciudad y elevar la capacidad empresarial de todos los lojanos.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Lado derecho - Formulario (SCROLLEABLE) -->
    <div class="form-section">
      <div class="form-container">
        <!-- Botón de volver -->
        <div class="back-button-container">
          <button class="btn-back">
            <i class="fas fa-arrow-left"></i>
            Volver
          </button>
        </div>

        <div class="form-header">
          <h1 class="form-title">Registro</h1>
          <p class="form-subtitle">Completa tus datos para unirte a nuestra comunidad empresarial</p>
        </div>

        <form method="post" action="{% url 'register' %}" enctype="multipart/form-data">
          {% csrf_token %}
          
          <div class="mb-3">
            <label for="nombres" class="form-label">
              <i class="fas fa-user-tag"></i> Nombres
            </label>
            <input type="text" class="form-control rounded-pill" id="nombres" name="nombres" placeholder="Tus nombres" />
          </div>
        
          <div class="mb-3">
            <label for="apellidos" class="form-label">
              <i class="fas fa-user-tag"></i> Apellidos
            </label>
            <input type="text" class="form-control rounded-pill" id="apellidos" name="apellidos" placeholder="Tus apellidos" />
          </div>
        
          <div class="mb-3">
            <label for="cedula" class="form-label">
              <i class="fas fa-id-card"></i> Cédula
            </label>
            <input type="text" class="form-control rounded-pill" id="cedula" name="cedula" placeholder="Número de cédula" />
          </div>
        
          <div class="mb-3">
            <label for="correo" class="form-label">
              <i class="fas fa-at"></i> Correo
            </label>
            <input type="email" class="form-control rounded-pill" id="correo" name="correo" placeholder="Correo" />
          </div>
        
          <div class="mb-3">
            <label for="usuario" class="form-label">
              <i class="fas fa-user-circle"></i> Nombre de usuario
            </label>
            <input type="text" class="form-control rounded-pill" id="usuario" name="usuario" placeholder="Ej. usuario123" />
          </div>
        
          <div class="mb-3">
            <label for="contrasena" class="form-label">
              <i class="fas fa-lock"></i> Contraseña
            </label>
            <div class="password-input-container">
              <input type="password" class="form-control rounded-pill" id="contrasena" name="contrasena" placeholder="Contraseña" />
              <button type="button" class="password-toggle" onclick="togglePassword('contrasena')">
                <i class="fas fa-eye" id="contrasena-eye"></i>
              </button>
            </div>
          </div>
        
          <div class="mb-4">
            <label for="repetir-contrasena" class="form-label">
              <i class="fas fa-lock"></i> Repetir contraseña
            </label>
            <div class="password-input-container">
              <input type="password" class="form-control rounded-pill" id="repetir-contrasena" name="repetir_contrasena" placeholder="Repite la contraseña" />
              <button type="button" class="password-toggle" onclick="togglePassword('repetir-contrasena')">
                <i class="fas fa-eye" id="repetir-contrasena-eye"></i>
              </button>
            </div>
          </div>

          <div class="mb-4">
            <label for="imagen" class="form-label">
              <i class="fas fa-camera"></i> Imagen
            </label>
            <div class="image-upload-container">
              <input type="file" class="form-control rounded-pill" id="imagen" name="imagen" onchange="previewImage(this)" />
              <div class="image-preview" id="imagePreview">
                <i class="fas fa-user-circle preview-icon"></i>
                <span class="preview-text">Vista previa</span>
              </div>
            </div>
          </div>
        
          <button type="submit" class="btn btn-warning w-100 rounded-pill fw-bold py-2">
            <i class="fas fa-user-plus"></i>
            Registrarse
          </button>
        </form>        

        <div class="form-footer">
          <div class="divider">
            <span>o</span>
          </div>
          
          <div class="d-flex justify-content-between align-items-center mt-4">
            <p class="mb-0 login-text">¿Ya tienes una cuenta?</p>
            <a href="/login" class="enlace-azul fw-bold">
              <i class="fas fa-sign-in-alt"></i> Inicia sesión
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    // Toggle de visibilidad de contraseña
    function togglePassword(fieldId) {
      const field = document.getElementById(fieldId);
      const eye = document.getElementById(fieldId + '-eye');
      
      if (field.type === 'password') {
        field.type = 'text';
        eye.classList.remove('fa-eye');
        eye.classList.add('fa-eye-slash');
      } else {
        field.type = 'password';
        eye.classList.remove('fa-eye-slash');
        eye.classList.add('fa-eye');
      }
    }

    // Preview de imagen
    function previewImage(input) {
      const preview = document.getElementById('imagePreview');
      
      if (input.files && input.files[0]) {
        const reader = new FileReader();
        
        reader.onload = function(e) {
          preview.innerHTML = `<img src="${e.target.result}" alt="Preview" class="preview-img">`;
        };
        
        reader.readAsDataURL(input.files[0]);
      } else {
        preview.innerHTML = `
          <i class="fas fa-user-circle preview-icon"></i>
          <span class="preview-text">Vista previa</span>
        `;
      }
    }
  </script>
</body>

</html>